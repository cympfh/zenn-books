---
title: 構造体

---

## 構造体とは何か

一つ以上のデータに名前をつけてまとめ上げで一つのデータとして扱うための概念が構造体です. フィールドに名前がついたタプルだと思ってもいいですし, レコード型とか辞書型とか呼んでも良いでしょう. ただしその構造体が持つことの出来るデータは型付きで宣言されている必要があります.

## 宣言

構造体は保持するデータの名前とその型を次のように並べて宣言します.

```rust
struct <NAME> {
    <FIELD> : <TYPE> ,
    <FIELD> : <TYPE> ,
}
```

さらに各フィールドはそれぞれデフォルト値を持つことが出来ます.

```rust
struct <NAME> {
    <FIELD> : <TYPE> ,
    <FIELD> : <TYPE> = <EXPR> ,
}
```

例えば次は2つの整数 `x` `y` を持つ `Point` という構造体です. オプショナルに `name` という文字列を持つことが出来ます.

```rust
struct Point {
    x: Int,
    y: Int,
    name: String = "unnamed",
}
```

## インスタンス化

一度構造体を宣言したら, これを使ってデータを作る事ができます.  構造体の名前をそのまま関数のようにして, その引数にフィールドに渡す値をその宣言の順番通りに渡します.  ここでフィールドの個数より少ない場合にはデフォルト値を使おうとします.

```rust
Point(0, 1)  // name が与えられていないのでデフォルト値を使う
```

```rust
Point(0, 0, "origin")  // 全て与えられてるならそれを使う
```

丸括弧で値を適用する書き方は見慣れた記法ですが, cumin ではこの他に, 波括弧でキーワード付きに適用する書き方も提供しています. こちらはどのフィールドにどの値を渡すのかを明記します.

```rust
Point {
    y = 1,
    x = 0,
    name = "p",
}
```

こちらももちろん値が与えられなかったフィールドはデフォルト値を使いますし, `()` による関数適用と異なる点としては, 引数の順序が任意になるところです. 引数の数をあまりに多い場合などは積極的にこちらの書き方をした方が, 読みやすいコードになるでしょう.

この `()` または `{}` による適用の記法は後述する関数への適用でも全く同様に使うことが出来ます.
